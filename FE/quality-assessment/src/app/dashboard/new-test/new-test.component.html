<div class="p-3">
  <h5 class="card-title text-center">Start new check!</h5>

  <form [formGroup]="form" class="mt-2 mb-3">
    <div class="form-group">
      <label>Name</label>
      <input class="form-control" placeholder="name" formControlName="name">
    </div>

    <div class="card mt-2">
      <div class="card-body" formArrayName="documentsForm">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <h5 class="card-subtitle text-muted mb-2">Documents</h5>
          <button type="button" class="btn btn-primary" (click)="addDoc()">+ Add new</button>
        </div>

        <div *ngFor="let document of documentsForm.controls; let di = index;" class="d-flex mb-1" [formGroupName]="di">
          <div class="form-group flex-grow-1">
            <select class="form-control" formControlName="id">
              <option *ngFor="let document of documents" [value]="document.id">
                {{ document.name }}
              </option>
            </select>
          </div>

          <div class="form-group" style="width: 67px; margin-left: 10px">
            <input type="number" class="form-control" placeholder="0" formControlName="count">
          </div>

          <button
            [disabled]="documentsForm.controls.length === 1"
            class="btn btn-outline-danger"
            style="border: 0; background-color: white; color: red"
            (click)="deleteDocument(di)"
          >✕</button>
        </div>
      </div>
    </div>

    <div formArrayName="verificationsForm" class="card mt-2">
      <div class="card-body">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <h5 class="card-subtitle text-muted">Verifications</h5>
          <button type="button" class="btn btn-primary" (click)="addVer()">+ Add new</button>
        </div>

        <div *ngFor="let verification of verificationsForm.controls; let vi = index;" class="d-flex mb-1" [formGroupName]="vi">
          <div class="form-group flex-grow-1">
            <select class="form-control" formControlName="id">
              <option *ngFor="let verification of verifications" [value]="verification.id">
                {{ verification.name }}
              </option>
            </select>
          </div>

          <div class="form-group" style="width: 67px; margin-left: 10px">
            <input type="number" class="form-control" placeholder="0" formControlName="count">
          </div>

          <button
            [disabled]="verificationsForm.controls.length === 1"
            class="btn btn-outline-danger"
            style="border: 0; background-color: white; color: red"
            (click)="deleteVerification(vi)"
          >✕</button>
        </div>
      </div>
    </div>
  </form>

  <div class="d-flex justify-content-between">
    <button class="btn btn-secondary btn-l" (click)="bsModalRef.hide()">Close</button>
    <button class="btn btn-primary" (click)="start()">Start</button>
  </div>

  <ngx-spinner
    type="ball-scale-multiple"
    color="#0d6efd"
    bdColor="rgba(255, 255, 255, 0.7)"
    size="default"
    [fullScreen]="false"
    name="test"
  ></ngx-spinner>
</div>
